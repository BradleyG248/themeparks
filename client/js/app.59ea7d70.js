(function(t){function e(e){for(var a,r,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);m&&m(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==o[c]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var m=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),o=s.n(a);o.a},1886:function(t,e,s){"use strict";var a=s("b8f2"),o=s.n(a);o.a},"1a8a":function(t,e,s){"use strict";var a=s("b5e8"),o=s.n(a);o.a},"1d7c":function(t,e,s){},"31d9":function(t,e,s){"use strict";var a=s("f184"),o=s.n(a);o.a},"555c":function(t,e,s){"use strict";var a=s("ef86"),o=s.n(a);o.a},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-arial",attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("router-link",{staticClass:"navbar-brand pl-3 pr-3",attrs:{to:{name:"Home"}}},[t._v("Lagoon")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}}),s("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[t._v("Posts")])],1),s("li",{staticClass:"nav-item pl-3"},[s("add-post")],1),t.$auth.isAuthenticated?s("li",{staticClass:"nav-item pl-3",class:{active:"Profile"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e()]),s("span",{staticClass:"navbar-text"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"query mr-2",attrs:{placeholder:"  search..."},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),s("button",{staticClass:"btn btn-primary mr-4"},[t._v("GO")]),t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-danger mr-4",on:{click:t.logout}},[t._v("logout")]):s("button",{staticClass:"btn btn-success mr-4",on:{click:t.login}},[t._v("Login")])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler border-0",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],c=s("bc3a"),l=s.n(c),m=s("335d"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#post-creator"}},[t._v("create post")]),s("div",{staticClass:"modal",attrs:{tabindex:"10",role:"dialog",id:"post-creator"},on:{submit:function(e){return e.preventDefault(),t.createPost(e)}}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("form",{attrs:{action:""}},[s("div",{staticClass:"modal-content form-group rounded input-group-default"},[s("div",{staticClass:"modal-header d-flex flex-column"},[s("h2",[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPost.title,expression:"newPost.title"}],staticClass:"modal-title rounded form-control",attrs:{placeholder:"Hyped?","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.newPost.title},on:{input:function(e){e.target.composing||t.$set(t.newPost,"title",e.target.value)}}})]),s("div",{staticClass:"modal-body"},[s("h3",[t._v("Description")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPost.description,expression:"newPost.description"}],staticClass:"rounded form-control",attrs:{placeholder:"Elaborate..."},domProps:{value:t.newPost.description},on:{input:function(e){e.target.composing||t.$set(t.newPost,"description",e.target.value)}}}),s("h3",[t._v("Image")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPost.imgUrl,expression:"newPost.imgUrl"}],staticClass:"rounded form-control",attrs:{placeholder:"Hands in the air like you just don't care"},domProps:{value:t.newPost.imgUrl},on:{input:function(e){e.target.composing||t.$set(t.newPost,"imgUrl",e.target.value)}}})]),t._m(0)])])])])])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-toggle":"modal","data-target":"#post-creator"}},[t._v("Submit")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],p={name:"AddPost",data(){return{newPost:{}}},computed:{},methods:{createPost(){this.$store.dispatch("createPost",this.newPost)}},components:{}},v=p,h=(s("9683"),s("2877")),f=Object(h["a"])(v,u,d,!1,null,"ef668b04",null),b=f.exports,g={name:"Navbar",data(){return{query:""}},methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),console.log("this.$auth.user: "),console.log(this.$auth.user),this.$store.dispatch("getProfile")},async logout(){await this.$auth.logout(),this.$store.dispatch("resetBearer"),this.$router.push({name:"home"})}},components:{addPost:b}},C=g,_=(s("1a8a"),Object(h["a"])(C,r,i,!1,null,null,null)),y=_.exports,P={name:"App",async beforeCreate(){await Object(m["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:y}},w=P,$=(s("034f"),Object(h["a"])(w,o,n,!1,null,null,null)),x=$.exports,k=s("8c4f"),O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home setting container-fluid",attrs:{id:"lagoonUrl"}},[s("img",{attrs:{alt:"",src:""}}),s("h1",{staticClass:"text-center"},[t._v("Lagoon Park")]),s("posts",{attrs:{id:"postOpa"}})],1)},j=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[s("div",{staticClass:"row pl-3 pr-3"},t._l(t.posts,(function(t){return s("post",{key:t.id,attrs:{postData:t}})})),1),s("div",{staticClass:"row"})])},I=[],B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[s("div",{staticClass:"col-12 col-md-6 p-2"},[t.postData.closed?t._e():s("div",{staticClass:"card",staticStyle:{width:"17rem",height:"28rem"}},[s("router-link",{attrs:{to:{name:"PostDetails",params:{postId:this.postData._id}}}},[s("img",{staticClass:"card-img-top",attrs:{src:t.postData.imgUrl,alt:"Card image cap"}})]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(t.postData.title))]),s("p",{staticClass:"card-text"},[t._v(t._s(t.postData.description))])])],1)])])},E=[],U={name:"Post",props:["postData"],data(){return{}},computed:{},methods:{},components:{}},T=U,H=(s("555c"),Object(h["a"])(T,B,E,!1,null,"571d0187",null)),A=H.exports,S={name:"Posts",data(){return{}},computed:{posts(){let t=this.$store.state.posts;return t}},methods:{},components:{Post:A},mounted(){}},z=S,N=Object(h["a"])(z,D,I,!1,null,"01932e09",null),q=N.exports,L={name:"Home",components:{Posts:q},mounted(){console.log("hi"),this.$store.dispatch("getPosts")}},G=L,M=(s("84a8"),Object(h["a"])(G,O,j,!1,null,"0f4a6079",null)),R=M.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about text-center"},[s("h1",[t._v("Profile "+t._s(t.profile.name))]),s("img",{staticClass:"rounded",attrs:{src:t.profile.picture,alt:""}}),s("p",[t._v(t._s(t.profile.email))])])},J=[],F={name:"Profile",computed:{profile(){return this.$store.state.profile}}},V=F,X=(s("b353"),Object(h["a"])(V,W,J,!1,null,"a378d924",null)),Y=X.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-details text-center pt-3",attrs:{id:"psdeets"}},[t.details.closed?s("h1",[t._v("This post has been deleted!")]):t._e(),t.details.closed?t._e():s("div",[s("h1",[t._v(t._s(t.details.title))]),s("p",[t._v(t._s(t.details.description))]),s("img",{staticClass:"pic-size",attrs:{height:"400",src:t.details.imgUrl,alt:""}})]),s("div",{staticClass:"buttons-details p-1"},[s("button",{staticClass:"btn btn-success m-1",on:{click:function(e){return t.vote(t.details.votes++)}}},[t._v("+")]),s("button",{staticClass:"btn btn-info m-1",on:{click:function(e){return t.vote(t.details.votes--)}}},[t._v("-")]),s("button",{staticClass:"btn btn-danger m-1",on:{click:this.delete}},[t._v("Delete!")])]),s("h4",[t._v(t._s(t.details.votes)+" votes")]),s("create-comment",{staticClass:"m-1 mb-4"}),s("comments")],1)},Q=[],Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},t._l(t.comments,(function(t){return s("comment",{key:t.id,attrs:{commentData:t}})})),1),s("div",{staticClass:"row pt-3 mt-3"})])])},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row pb-1"},[s("div",{staticClass:"comment-body"},[s("h6",[t._v(" "+t._s(t.comment.description)+" -- "+t._s(t.comment.creatorEmail)+" -- Votes: "+t._s(t.comment.votes)+" "),s("button",{staticClass:"btn btn-success mr-2 ml-3",on:{click:function(e){return t.vote(t.comment.votes+1)}}},[t._v("+")]),s("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.vote(t.comment.votes-1)}}},[t._v("-")]),s("button",{staticClass:"btn btn-danger ml-3",on:{click:function(e){return t.destroy()}}},[t._v("Delete")])])])])])])},st=[],at={name:"Comment",props:["commentData"],data(){return{votes:this.commentData.votes}},computed:{comment(){let t=this.commentData;return t}},methods:{async destroy(){await this.$store.dispatch("deleteCommentById",this.comment.id),await this.$store.dispatch("getCommentsByPost",this.comment.postId)},vote(t){console.log(this.CommentData),this.comment.votes=t;let e={votes:t,id:this.commentData.id};console.log(e),this.$store.dispatch("voteComment",e)}},components:{}},ot=at,nt=(s("aba5"),Object(h["a"])(ot,et,st,!1,null,"18685f66",null)),rt=nt.exports,it={name:"Comments",data(){return{}},computed:{comments(){let t=this.$store.state.comments;return t}},methods:{},components:{Comment:rt},mounted(){}},ct=it,lt=Object(h["a"])(ct,Z,tt,!1,null,"737f77e3",null),mt=lt.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[t.comtoggle?t._e():s("button",{staticClass:"btn btn-info",on:{click:function(e){t.comtoggle=!0}}},[t._v("Create Comment")]),t.comtoggle?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newComment.description,expression:"newComment.description"}],attrs:{type:"text",placeholder:"Talk is cheap"},domProps:{value:t.newComment.description},on:{input:function(e){e.target.composing||t.$set(t.newComment,"description",e.target.value)}}}),s("button",{staticClass:"btn btn-success",on:{click:t.createComment}},[t._v("Post")]),s("button",{staticClass:"btn btn-warning",on:{click:function(e){t.comtoggle=!1}}},[t._v("Cancel")])]):t._e()])},dt=[],pt={name:"CreateComment",data(){return{newComment:{postId:this.$route.params.postId,description:""},comtoggle:!1}},computed:{},methods:{async createComment(){await this.$store.dispatch("createComment",this.newComment),this.comtoggle=!1,this.newComment.description=""}},components:{}},vt=pt,ht=(s("31d9"),Object(h["a"])(vt,ut,dt,!1,null,"cce09710",null)),ft=ht.exports,bt={name:"PostDetails",data(){return{postData:{},commentData:{}}},methods:{delete(){this.$store.dispatch("deletePostById",this.$route.params.postId)},vote(t){console.log(t),this.details.vote=t,this.$store.dispatch("voteById",this.details)}},components:{Post:A,Comments:mt,CreateComment:ft},mounted(){this.$store.dispatch("getPostById",this.$route.params.postId);this.$store.dispatch("getCommentsByPost",this.$route.params.postId)},computed:{details(){return this.$store.state.activePost}}},gt=bt,Ct=(s("1886"),Object(h["a"])(gt,K,Q,!1,null,null,null)),_t=Ct.exports;a["a"].use(k["a"]);const yt=[{path:"/",name:"Home",component:R},{path:"/profile",name:"Profile",component:Y,beforeEnter:m["b"]},{path:"/post/:postId",name:"PostDetails",component:_t}],Pt=new k["a"]({routes:yt});var wt=Pt,$t=s("2f62");a["a"].use($t["a"]);let xt=location.host.includes("localhost")?"http://localhost:3000/":"/",kt=l.a.create({baseURL:xt+"api",timeout:3e3,withCredentials:!0}),Ot=l.a.create({baseURL:xt+"api/posts",timeout:3e3,withCredentials:!0}),jt=l.a.create({baseURL:xt+"api/comments",timeout:3e3,withCredentials:!0});var Dt=new $t["a"].Store({state:{profile:{},posts:[],comments:[],activePost:{}},mutations:{setProfile(t,e){t.profile=e},addPost(t,e){t.posts.push(e)},addComment(t,e){t.comments.push(e)},setPosts(t,e){t.posts=e},setComments(t,e){t.comments=e},setActivePost(t,e){t.activePost=e}},actions:{setBearer({},t){kt.defaults.headers.authorization=t,Ot.defaults.headers.authorization=t,jt.defaults.headers.authorization=t},resetBearer(){kt.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await kt.get("profile");t("setProfile",e.data),console.log(e.data)}catch(e){console.error(e)}},async createPost({commit:t},e){try{console.log("This is totally working!"),console.log(e);let s=await Ot.post("",e);t("addPost",s.data)}catch(s){console.error(s)}},async createComment({commit:t},e){try{let s=await jt.post("",e);t("addComment",s.data)}catch(s){console.error(s)}},async getPostById({commit:t},e){try{let s=await Ot.get(e);console.log(e),t("setActivePost",s.data),console.log(s.data)}catch(s){console.error(s)}},async deletePostById({commit:t},e){let s=await Ot.delete(e);return t("setActivePost",null),wt.push({name:"Home"}),s},async deleteCommentById({commit:t},e){let s=await jt.delete(e);return s},async getPosts({commit:t}){try{let e=await Ot.get("");t("setPosts",e.data)}catch(e){console.error(e)}},async voteById({commit:t},e){await Ot.put("/"+e.id+"/vote",e);let s=await Ot.get("");t("setPosts",s)},async voteComment({commit:t},e){await jt.put("/"+e.id+"/vote",e)},async getCommentsByPost({commit:t},e){try{let s=await Ot.get(e+"/comments");t("setComments",s.data)}catch(s){console.log(s)}}}});const It="jnfu.auth0.com",Bt="https://jnfu-server.com",Et="gWcHY8x41Gkzwbo8T8PoFgnauxsWGXlm";a["a"].use(m["a"],{domain:It,clientId:Et,audience:Bt,onRedirectCallback:t=>{wt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new a["a"]({router:wt,store:Dt,render:function(t){return t(x)}}).$mount("#app")},"6a14":function(t,e,s){},"84a8":function(t,e,s){"use strict";var a=s("86ea"),o=s.n(a);o.a},"85ec":function(t,e,s){},"86ea":function(t,e,s){},9683:function(t,e,s){"use strict";var a=s("6a14"),o=s.n(a);o.a},aba5:function(t,e,s){"use strict";var a=s("1d7c"),o=s.n(a);o.a},b353:function(t,e,s){"use strict";var a=s("fb4e"),o=s.n(a);o.a},b5e8:function(t,e,s){},b8f2:function(t,e,s){},ef86:function(t,e,s){},f184:function(t,e,s){},fb4e:function(t,e,s){}});